"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[657],{9710:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(83791),a=n(80667),o=(n(72791),n(80184));const s=e=>{let{text:t,delayValue:n}=e;const s=[...t];return(0,o.jsx)(r.M,{children:s.map(((e,t)=>(0,o.jsx)(a.E.span,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},exit:{opacity:0},transition:{delay:t*n,duration:.5},children:e},t)))})}},59618:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(68870);const{styled:a}=n(85588),o=a(r.Z)((e=>{let{theme:t}=e;return{mt:"20px",pb:"20px",height:"75vh","& .MuiDataGrid-root":{border:"none"},"& .MuiDataGrid-cell":{borderBottom:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:t.palette.background.alt,color:t.palette.secondary.main,borderBottom:"none"},"& .MuiDataGrid-virtualScroller":{backgroundColor:t.palette.primary.light},"& .MuiDataGrid-footerContainer":{backgroundColor:t.palette.background.alt,color:t.palette.secondary[100],borderTop:"none"},"& .MuiDataGrid-toolbarContainer .MuiButton-text":{color:"".concat(t.palette.secondary.main," !important")}}}))},52729:(e,t,n)=>{n.d(t,{Z:()=>v});var r=n(34265),a=n(22501),o=n(43395),s=n(91330),i=n(33788),l=n(5849),d=n(48724),c=n(22500),u=n(80184);const v=e=>{let{csvOptions:t,showExport:n,data:v}=e;return(0,u.jsx)(r.D,{children:(0,u.jsxs)(c.Z,{width:"100%",sx:{flexWrap:"wrap"},children:[(0,u.jsxs)(c.Z,{children:[(0,u.jsx)(a.S,{}),(0,u.jsx)(o.L,{}),n&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(s.Zh,{csvOptions:t,printOptions:{disableToolbarButton:!0}}),(0,u.jsx)(l.Z,{name:"print",onClick:()=>alert("Print"),variant:"text",startIcon:(0,u.jsx)(d.Z,{}),children:"PDF"})]})]}),(0,u.jsx)(i.T,{})]})})}},72625:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(13967),a=n(95193),o=n(4567),s=n(68870),i=n(80184);const l=e=>{let{description:t}=e;const n=(0,r.Z)(),l=(0,a.Z)("(min-width: 600px)");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Z,{fontSize:"1.3rem",variant:"h2",fontWeight:"bold",color:"secondary",children:"About This Event"}),(0,i.jsx)(s.Z,{borderRadius:"0.55rem",width:l?"90%":"100%",mt:2,sx:{backgroundImage:"none",backgroundColor:n.palette.background.alt,p:"1rem "},children:(0,i.jsx)(o.Z,{textAlign:"left",fontSize:"1rem",children:t})})]})}},79912:(e,t,n)=>{n.d(t,{Z:()=>g});var r=n(95193),a=n(13967),o=n(4567),s=n(68870),i=n(81153),l=n(49936),d=n(1588),c=n(72567),u=n(72426),v=n.n(u),m=n(94721),p=n(80667),h=(n(72791),n(80184));const x=e=>{let{icon:t,title:n,value:a,last:l,index:d}=e;const c=(0,r.Z)("(min-width: 600px)");return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(i.ZP,{component:p.E.div,initial:{y:20,opacity:0},whileInView:{y:0,opacity:1},viewport:{once:!0},transition:{delay:.15*d},exit:{y:20,opacity:0},item:!0,xs:12,sm:12,md:4,lg:4,children:(0,h.jsxs)(s.Z,{display:"flex",gap:2,children:[(0,h.jsxs)(s.Z,{display:"flex",gap:1,children:[t,(0,h.jsxs)(s.Z,{children:[(0,h.jsx)(o.Z,{color:"secondary",fontSize:!c&&"1rem",fontWeight:"bold",children:n}),(0,h.jsx)(o.Z,{fontSize:!c&&"1rem",children:a})]})]}),!l&&c&&(0,h.jsx)(m.Z,{orientation:"vertical",flexItem:!0})]})})})},g=e=>{let{name:t,banner:n,startDate:u,venue:m,organizedBy:p}=e;const g=(0,r.Z)("(min-width: 600px)"),y=(0,a.Z)(),Z=[{icon:(0,h.jsx)(c.Z,{color:"secondary"}),title:"Date",value:v()(new Date(u)).format("Do MMMM YYYY, h:mm A"),last:!1},{icon:(0,h.jsx)(d.Z,{color:"secondary"}),title:"Venue",value:m,last:!1},{icon:(0,h.jsx)(l.Z,{color:"secondary"}),title:"Organizers",value:p,last:!0}];return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("img",{src:"".concat("http://localhost:8000/","assets/").concat(n),alt:"banner",width:g?"90%":"100%"}),(0,h.jsx)(o.Z,{mt:2,fontSize:g?"2rem":"1.5rem",variant:"h1",fontWeight:"bold",width:g?"90%":"100%",color:"secondary",children:t}),(0,h.jsx)(s.Z,{borderRadius:"0.55rem",width:g?"90%":"100%",mt:2,sx:{backgroundImage:"none",backgroundColor:y.palette.background.alt,p:"1rem "},children:(0,h.jsx)(i.ZP,{container:!0,spacing:g?2:3,children:Z.map(((e,t)=>(0,h.jsx)(x,{index:t,icon:e.icon,title:e.title,value:e.value,last:e.last},t)))})})]})}},26869:(e,t,n)=>{n.d(t,{Z:()=>f});var r=n(72791),a=n(55931),o=n(13967),s=n(95193),i=n(5574),l=n(25256),d=n(29464),c=n(4567),u=n(90977),v=n(68870),m=n(81153),p=n(5849),h=n(29823),x=n(11087),g=n(79912),y=n(72625),Z=n(80184);const j=r.forwardRef((function(e,t){return(0,Z.jsx)(a.Z,{direction:"up",ref:t,...e})})),f=e=>{let{openDialog:t,params:n,handleCloseDialog:r,handleClickOpen:a,showOrder:f}=e;const b=(0,o.Z)(),E=(0,s.Z)("(min-width: 600px)");return(0,Z.jsx)("div",{children:(0,Z.jsxs)(i.Z,{fullScreen:!0,open:t,onClose:r,TransitionComponent:j,sx:{backgroundColor:b.palette.primary.light,color:b.palette.secondary[100]},children:[(0,Z.jsx)(l.Z,{sx:{position:"sticky",backgroundImage:"none",backgroundColor:b.palette.background.alt},children:(0,Z.jsxs)(d.Z,{children:[(0,Z.jsx)(c.Z,{sx:{ml:2,flex:1,fontWeight:"bold"},color:"secondary",variant:"h3",component:"div",children:"Event Details"}),(0,Z.jsx)(u.Z,{edge:"end",color:"inherit",onClick:r,"aria-label":"close",children:(0,Z.jsx)(h.Z,{})})]})}),(0,Z.jsx)(v.Z,{padding:"1rem",width:"100%",sx:{backgroundColor:b.palette.background.default,margin:"auto",display:"block",overflow:"auto",minHeight:"100vh"},children:n&&(0,Z.jsxs)(m.ZP,{width:"100%",margin:"auto",container:!0,spacing:E&&2,children:[(0,Z.jsx)(m.ZP,{item:!0,xs:12,sm:12,md:7,lg:7,children:(0,Z.jsx)(g.Z,{name:n.row.name,banner:n.row.bannerName,startDate:n.row.startDate,endDate:n.row.endDate,venue:n.row.venue,organizedBy:n.row.committee[0].name,createdBy:n.row.createdBy[0].name,dialog:!0})}),(0,Z.jsxs)(m.ZP,{item:!0,xs:12,sm:12,md:5,lg:5,spacing:2,children:[(0,Z.jsx)(y.Z,{description:n.row.description}),f&&(0,Z.jsx)(x.rU,{style:{textDecoration:"none"},to:"".concat("http://localhost:8000/","assets/").concat(n.row.orderName),target:"_blank",rel:"noreferrer",children:(0,Z.jsx)(p.Z,{name:"order_btn",variant:"contained",sx:{marginTop:"1.5rem",fontWeight:"bold"},size:"large",color:"secondary",children:"View Order"})})]})]})})]})})}},22500:(e,t,n)=>{n.d(t,{Z:()=>o});const{Box:r}=n(37609),{styled:a}=n(85588),o=a(r)({display:"flex",justifyContent:"space-between",alignItems:"center"})},37084:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(13967),a=n(95193),o=n(68870),s=n(4567),i=n(9710),l=n(80667),d=(n(72791),n(80184));const c=e=>{let{title:t,subtitle:n}=e;const c=(0,r.Z)(),u=(0,a.Z)("(min-width: 600px)");return(0,d.jsx)(o.Z,{overflow:"hidden",children:(0,d.jsxs)(o.Z,{children:[(0,d.jsx)(s.Z,{component:l.E.div,initial:{y:"-100%",opacity:0},animate:{y:"0%",opacity:1},transition:{delay:.4,duration:.5},variant:u?"h2":"h3",color:c.palette.secondary.dark,fontWeight:"bold",sx:{mb:"5px"},children:t}),(0,d.jsx)(s.Z,{sx:{mb:"5px"},variant:u?"h5":"h6",fontWeight:"bold",color:c.palette.secondary.accent,children:(0,d.jsx)(i.Z,{text:n,delayValue:.05})})]})})}},8657:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var r=n(72791),a=n(95193),o=n(68870),s=n(37560),i=n(72426),l=n.n(i),d=n(80667),c=n(13967),u=n(97639),v=n(90977),m=n(5397),p=n(57689),h=n(75985),x=n(3746),g=n(12456),y=n(26869),Z=n(57234),j=n(80184);const f=e=>{let{users:t,params:n}=e;const[a,s]=(0,r.useState)(!1),[i]=(0,Z.gV)(),l=(0,p.s0)(),d=(0,c.Z)(),f=()=>{s(!0)};return(0,j.jsxs)(o.Z,{children:[(0,j.jsx)(y.Z,{handleOpenDialog:f,handleCloseDialog:()=>{s(!1)},openDialog:a,setOpenDialog:s,params:n}),(0,j.jsx)(u.Z,{title:"View Event Details",children:(0,j.jsx)(v.Z,{onClick:f,children:(0,j.jsx)(x.Z,{color:"success"})})}),(0,j.jsx)(u.Z,{title:"View Audience Details",children:(0,j.jsx)(v.Z,{sx:{color:d.palette.secondary[300]},onClick:()=>{l("/Registrations/".concat(n.row._id),{state:{audience:t.filter((e=>e.event[0].id===n.row._id)),eventDetails:n.row.name}})},children:(0,j.jsx)(g.Z,{})})}),(0,j.jsx)(u.Z,{title:"Delete This Event",children:(0,j.jsx)(v.Z,{onClick:()=>{(async e=>{if(window.confirm("Are you sure you want to delete this event?"))try{await i({eventId:e}).unwrap()&&h.Am.error("Event Deleted Successfully.")}catch(t){h.Am.error("There was an error deleting the Event")}})(n.id)},children:(0,j.jsx)(m.Z,{color:"error"})})})]})};var b=n(52729),E=n(37084),w=n(76821),D=n(59618);const T=()=>{const[e,t]=(0,r.useState)(null),{data:n,isLoading:i}=(0,Z.aW)(),{data:c}=(0,w.zQ)();(0,r.useEffect)((()=>{if(n){const e=(e=>e.filter((e=>!0===e.isApproved&&l()(new Date(e.startDate)).isAfter(l()()))).sort(((e,t)=>l()(new Date(t.startDate))-l()(new Date(e.startDate)))))(n);t(e)}}),[n]);const u=(0,a.Z)("(min-width: 600px)"),v=[{field:"name",headerName:"Event Name",minWidth:200,flex:1},{field:"committee",headerName:"Organized By",minWidth:150,flex:1,valueGetter:e=>e.value[0].name,valueFormatter:e=>{let{value:t}=e;return t[0].name},renderCell:e=>e.row.committee[0].name},{field:"createdBy",headerName:"Created By",minWidth:150,flex:1,valueGetter:e=>e.value[0].name,valueFormatter:e=>{let{value:t}=e;return t[0].name},renderCell:e=>e.row.createdBy[0].name},{field:"startDate",headerName:"Event Date",minWidth:120,flex:.8,valueGetter:e=>e.row.startDate,valueFormatter:e=>{let{value:t}=e;return l()(new Date(t)).format("Do MMM YYYY")},renderCell:e=>l()(new Date(e.row.startDate)).format("Do MMM YYYY"),sortComparator:(e,t)=>l()(new Date(e))-l()(new Date(t))},{field:"registrations",headerName:"Registrations",type:"number",minWidth:100,flex:.3,valueGetter:e=>null===c||void 0===c?void 0:c.filter((t=>t.event[0].id===e.row._id)).length,renderCell:e=>null===c||void 0===c?void 0:c.filter((t=>t.event[0].id===e.row._id)).length},{field:"actions",headerName:"Actions",type:"actions",width:190,renderCell:t=>(0,j.jsx)(f,{users:c,data:e,params:t})}];return(0,j.jsxs)(o.Z,{m:u?"1rem 2.5rem":"0.8rem",position:"relative",component:d.E.div,initial:{opacity:0},animate:{opacity:1},transition:{delay:.1,ease:"easeInOut"},children:[(0,j.jsx)(E.Z,{title:"UPCOMING EVENTS",subtitle:"List of All Upcoming Events."}),(0,j.jsx)(D.Z,{children:(0,j.jsx)(s._$,{loading:i||!n,getRowId:e=>e._id,rows:e||[],columns:v,components:{Toolbar:b.Z},componentsProps:{toolbar:{showExport:!1,data:n}}})})]})}},57234:(e,t,n)=>{n.d(t,{D3:()=>m,DX:()=>x,N1:()=>o,Pq:()=>s,Tl:()=>c,V8:()=>p,aW:()=>l,cy:()=>u,gV:()=>v,h6:()=>h,ru:()=>a,zJ:()=>d,zu:()=>i});const r=n(21575).h.injectEndpoints({endpoints:e=>({createEvent:e.mutation({query:e=>({url:"event/createEvent",method:"POST",body:e,formData:!0}),providesTags:["Events"],invalidatesTags:["Events"]}),publishedEvents:e.query({query:()=>"events/publishedEvents",providesTags:["Events"]}),unapprovedEvents:e.query({query:()=>"events/unapprovedEvents",providesTags:["Events"]}),committeeUnapprovedEvents:e.query({query:e=>({url:"events/committeeUnapprovedEvents",method:"POST",body:e}),providesTags:["Events"]}),approvedEvents:e.query({query:()=>"events/approvedEvents",providesTags:["Events"]}),committeeApprovedEvents:e.query({query:e=>({url:"events/committeeApprovedEvents",method:"POST",body:e}),providesTags:["Events"]}),approveEvent:e.mutation({query:e=>({url:"events/approveEvent",method:"POST",body:e,formData:!0}),providesTags:["Events"],invalidatesTags:["Events"]}),getEvent:e.query({query:e=>({url:"events/getEvent",method:"POST",body:e,formData:!0}),providesTags:["Events"],invalidatesTags:["Events"]}),deleteEvent:e.mutation({query:e=>({url:"events/deleteEvent",method:"POST",body:e,formData:!0}),providesTags:["Events"],invalidatesTags:["Events"]}),togglePublish:e.mutation({query:e=>({url:"events/togglePublish",method:"POST",body:e,formData:!0}),providesTags:["Events"],invalidatesTags:["Events"]}),uploadReport:e.mutation({query:e=>({url:"event/uploadReport",method:"POST",body:e,formData:!0}),providesTags:["Events"],invalidatesTags:["Events"]}),uploadPhotos:e.mutation({query:e=>({url:"event/uploadPhotos",method:"POST",body:e,formData:!0}),providesTags:["Events"],invalidatesTags:["Events"]}),sendCertificates:e.mutation({query:e=>({url:"events/sendCertificate",method:"POST",body:e,formData:!0}),providesTags:["Events"],invalidatesTags:["Events"]})})}),{useCreateEventMutation:a,usePublishedEventsQuery:o,useUnapprovedEventsQuery:s,useCommitteeUnapprovedEventsQuery:i,useApprovedEventsQuery:l,useCommitteeApprovedEventsQuery:d,useGetEventQuery:c,useApproveEventMutation:u,useDeleteEventMutation:v,useTogglePublishMutation:m,useUploadReportMutation:p,useUploadPhotosMutation:h,useSendCertificatesMutation:x}=r},76821:(e,t,n)=>{n.d(t,{ZF:()=>s,yv:()=>o,zQ:()=>a});const r=n(21575).h.injectEndpoints({endpoints:e=>({getUsers:e.query({query:()=>"user/getUsers",providesTags:["users"]}),registerFaculty:e.mutation({query:e=>({url:"user/registerFaculty",method:"POST",body:e,formData:!0}),providesTags:["users"]}),registerStudent:e.mutation({query:e=>({url:"user/registerStudent",method:"POST",body:e,formData:!0}),providesTags:["users"]})})}),{useGetUsersQuery:a,useRegisterFacultyMutation:o,useRegisterStudentMutation:s}=r},5397:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(74223),a=n(80184);const o=(0,r.Z)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")}}]);
//# sourceMappingURL=657.122471ee.chunk.js.map