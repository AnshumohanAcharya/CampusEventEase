"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[863],{9710:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(83791),a=r(80667),o=(r(72791),r(80184));const s=e=>{let{text:t,delayValue:r}=e;const s=[...t];return(0,o.jsx)(n.M,{children:s.map(((e,t)=>(0,o.jsx)(a.E.span,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},exit:{opacity:0},transition:{delay:t*r,duration:.5},children:e},t)))})}},59618:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(68870);const{styled:a}=r(85588),o=a(n.Z)((e=>{let{theme:t}=e;return{mt:"20px",pb:"20px",height:"75vh","& .MuiDataGrid-root":{border:"none"},"& .MuiDataGrid-cell":{borderBottom:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:t.palette.background.alt,color:t.palette.secondary.main,borderBottom:"none"},"& .MuiDataGrid-virtualScroller":{backgroundColor:t.palette.primary.light},"& .MuiDataGrid-footerContainer":{backgroundColor:t.palette.background.alt,color:t.palette.secondary[100],borderTop:"none"},"& .MuiDataGrid-toolbarContainer .MuiButton-text":{color:"".concat(t.palette.secondary.main," !important")}}}))},52729:(e,t,r)=>{r.d(t,{Z:()=>m});var n=r(34265),a=r(22501),o=r(43395),s=r(91330),i=r(33788),l=r(5849),d=r(48724),c=r(22500),u=r(80184);const m=e=>{let{csvOptions:t,showExport:r,data:m}=e;return(0,u.jsx)(n.D,{children:(0,u.jsxs)(c.Z,{width:"100%",sx:{flexWrap:"wrap"},children:[(0,u.jsxs)(c.Z,{children:[(0,u.jsx)(a.S,{}),(0,u.jsx)(o.L,{}),r&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(s.Zh,{csvOptions:t,printOptions:{disableToolbarButton:!0}}),(0,u.jsx)(l.Z,{name:"print",onClick:()=>alert("Print"),variant:"text",startIcon:(0,u.jsx)(d.Z,{}),children:"PDF"})]})]}),(0,u.jsx)(i.T,{})]})})}},72625:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(13967),a=r(95193),o=r(4567),s=r(68870),i=r(80184);const l=e=>{let{description:t}=e;const r=(0,n.Z)(),l=(0,a.Z)("(min-width: 600px)");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Z,{fontSize:"1.3rem",variant:"h2",fontWeight:"bold",color:"secondary",children:"About This Event"}),(0,i.jsx)(s.Z,{borderRadius:"0.55rem",width:l?"90%":"100%",mt:2,sx:{backgroundImage:"none",backgroundColor:r.palette.background.alt,p:"1rem "},children:(0,i.jsx)(o.Z,{textAlign:"left",fontSize:"1rem",children:t})})]})}},79912:(e,t,r)=>{r.d(t,{Z:()=>g});var n=r(95193),a=r(13967),o=r(4567),s=r(68870),i=r(81153),l=r(49936),d=r(1588),c=r(72567),u=r(72426),m=r.n(u),v=r(94721),p=r(80667),h=(r(72791),r(80184));const x=e=>{let{icon:t,title:r,value:a,last:l,index:d}=e;const c=(0,n.Z)("(min-width: 600px)");return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(i.ZP,{component:p.E.div,initial:{y:20,opacity:0},whileInView:{y:0,opacity:1},viewport:{once:!0},transition:{delay:.15*d},exit:{y:20,opacity:0},item:!0,xs:12,sm:12,md:4,lg:4,children:(0,h.jsxs)(s.Z,{display:"flex",gap:2,children:[(0,h.jsxs)(s.Z,{display:"flex",gap:1,children:[t,(0,h.jsxs)(s.Z,{children:[(0,h.jsx)(o.Z,{color:"secondary",fontSize:!c&&"1rem",fontWeight:"bold",children:r}),(0,h.jsx)(o.Z,{fontSize:!c&&"1rem",children:a})]})]}),!l&&c&&(0,h.jsx)(v.Z,{orientation:"vertical",flexItem:!0})]})})})},g=e=>{let{name:t,banner:r,startDate:u,venue:v,organizedBy:p}=e;const g=(0,n.Z)("(min-width: 600px)"),y=(0,a.Z)(),b=[{icon:(0,h.jsx)(c.Z,{color:"secondary"}),title:"Date",value:m()(new Date(u)).format("Do MMMM YYYY, h:mm A"),last:!1},{icon:(0,h.jsx)(d.Z,{color:"secondary"}),title:"Venue",value:v,last:!1},{icon:(0,h.jsx)(l.Z,{color:"secondary"}),title:"Organizers",value:p,last:!0}];return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("img",{src:"".concat("http://localhost:8000/","assets/").concat(r),alt:"banner",width:g?"90%":"100%"}),(0,h.jsx)(o.Z,{mt:2,fontSize:g?"2rem":"1.5rem",variant:"h1",fontWeight:"bold",width:g?"90%":"100%",color:"secondary",children:t}),(0,h.jsx)(s.Z,{borderRadius:"0.55rem",width:g?"90%":"100%",mt:2,sx:{backgroundImage:"none",backgroundColor:y.palette.background.alt,p:"1rem "},children:(0,h.jsx)(i.ZP,{container:!0,spacing:g?2:3,children:b.map(((e,t)=>(0,h.jsx)(x,{index:t,icon:e.icon,title:e.title,value:e.value,last:e.last},t)))})})]})}},26869:(e,t,r)=>{r.d(t,{Z:()=>Z});var n=r(72791),a=r(55931),o=r(13967),s=r(95193),i=r(5574),l=r(25256),d=r(29464),c=r(4567),u=r(90977),m=r(68870),v=r(81153),p=r(5849),h=r(29823),x=r(11087),g=r(79912),y=r(72625),b=r(80184);const f=n.forwardRef((function(e,t){return(0,b.jsx)(a.Z,{direction:"up",ref:t,...e})})),Z=e=>{let{openDialog:t,params:r,handleCloseDialog:n,handleClickOpen:a,showOrder:Z}=e;const w=(0,o.Z)(),j=(0,s.Z)("(min-width: 600px)");return(0,b.jsx)("div",{children:(0,b.jsxs)(i.Z,{fullScreen:!0,open:t,onClose:n,TransitionComponent:f,sx:{backgroundColor:w.palette.primary.light,color:w.palette.secondary[100]},children:[(0,b.jsx)(l.Z,{sx:{position:"sticky",backgroundImage:"none",backgroundColor:w.palette.background.alt},children:(0,b.jsxs)(d.Z,{children:[(0,b.jsx)(c.Z,{sx:{ml:2,flex:1,fontWeight:"bold"},color:"secondary",variant:"h3",component:"div",children:"Event Details"}),(0,b.jsx)(u.Z,{edge:"end",color:"inherit",onClick:n,"aria-label":"close",children:(0,b.jsx)(h.Z,{})})]})}),(0,b.jsx)(m.Z,{padding:"1rem",width:"100%",sx:{backgroundColor:w.palette.background.default,margin:"auto",display:"block",overflow:"auto",minHeight:"100vh"},children:r&&(0,b.jsxs)(v.ZP,{width:"100%",margin:"auto",container:!0,spacing:j&&2,children:[(0,b.jsx)(v.ZP,{item:!0,xs:12,sm:12,md:7,lg:7,children:(0,b.jsx)(g.Z,{name:r.row.name,banner:r.row.bannerName,startDate:r.row.startDate,endDate:r.row.endDate,venue:r.row.venue,organizedBy:r.row.committee[0].name,createdBy:r.row.createdBy[0].name,dialog:!0})}),(0,b.jsxs)(v.ZP,{item:!0,xs:12,sm:12,md:5,lg:5,spacing:2,children:[(0,b.jsx)(y.Z,{description:r.row.description}),Z&&(0,b.jsx)(x.rU,{style:{textDecoration:"none"},to:"".concat("http://localhost:8000/","assets/").concat(r.row.orderName),target:"_blank",rel:"noreferrer",children:(0,b.jsx)(p.Z,{name:"order_btn",variant:"contained",sx:{marginTop:"1.5rem",fontWeight:"bold"},size:"large",color:"secondary",children:"View Order"})})]})]})})]})})}},22500:(e,t,r)=>{r.d(t,{Z:()=>o});const{Box:n}=r(37609),{styled:a}=r(85588),o=a(n)({display:"flex",justifyContent:"space-between",alignItems:"center"})},37084:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(13967),a=r(95193),o=r(68870),s=r(4567),i=r(9710),l=r(80667),d=(r(72791),r(80184));const c=e=>{let{title:t,subtitle:r}=e;const c=(0,n.Z)(),u=(0,a.Z)("(min-width: 600px)");return(0,d.jsx)(o.Z,{overflow:"hidden",children:(0,d.jsxs)(o.Z,{children:[(0,d.jsx)(s.Z,{component:l.E.div,initial:{y:"-100%",opacity:0},animate:{y:"0%",opacity:1},transition:{delay:.4,duration:.5},variant:u?"h2":"h3",color:c.palette.secondary.dark,fontWeight:"bold",sx:{mb:"5px"},children:t}),(0,d.jsx)(s.Z,{sx:{mb:"5px"},variant:u?"h5":"h6",fontWeight:"bold",color:c.palette.secondary.accent,children:(0,d.jsx)(i.Z,{text:r,delayValue:.05})})]})})}},74863:(e,t,r)=>{r.r(t),r.d(t,{default:()=>P});var n=r(72791),a=r(95193),o=r(68870),s=r(5849),i=r(89891),l=r(37560),d=r(72426),c=r.n(d),u=r(80667),m=r(75985),v=r(13967),p=r(97639),h=r(90977),x=r(5397),g=r(57689),y=r(3746),b=r(12456),f=r(26869),Z=r(57234),w=r(80184);const j=e=>{let{users:t,params:r}=e;const[a,s]=(0,n.useState)(!1),[i]=(0,Z.gV)(),l=(0,v.Z)(),d=(0,g.s0)(),c=()=>{s(!0)};return(0,w.jsxs)(o.Z,{children:[(0,w.jsx)(f.Z,{handleOpenDialog:c,handleCloseDialog:()=>{s(!1)},openDialog:a,setOpenDialog:s,params:r}),(0,w.jsx)(p.Z,{title:"View Event Details",children:(0,w.jsx)(h.Z,{onClick:c,children:(0,w.jsx)(y.Z,{color:"success"})})}),(0,w.jsx)(p.Z,{title:"View Audience Details",children:(0,w.jsx)(h.Z,{sx:{color:l.palette.secondary[300]},onClick:()=>{d("/Registrations/".concat(r.row._id),{state:{audience:t.filter((e=>e.event[0].id===r.row._id)),eventDetails:r.row.name}})},children:(0,w.jsx)(b.Z,{})})}),(0,w.jsx)(p.Z,{title:"Delete This Event",children:(0,w.jsx)(h.Z,{onClick:()=>{(async e=>{if(window.confirm("Are you sure you want to delete this event?"))try{await i({eventId:e}).unwrap()&&m.Am.error("Event Deleted Successfully.")}catch(t){m.Am.error("There was an error deleting the Event")}})(r.id)},children:(0,w.jsx)(x.Z,{color:"error"})})})]})};var E=r(52729),D=r(37084),T=r(76821),C=r(59618);const P=()=>{const[e,t]=(0,n.useState)(null),{data:r,isLoading:d}=(0,Z.aW)(),{data:v}=(0,T.zQ)(),[p]=(0,Z.D3)();(0,n.useEffect)((()=>{if(r){const e=(e=>e.filter((e=>!0===e.isApproved&&c()(new Date(e.startDate)).isBefore(c()()))).sort(((e,t)=>c()(new Date(t.startDate))-c()(new Date(e.startDate)))))(r);t(e)}}),[r]);const h=(0,a.Z)("(min-width: 600px)"),x=[{field:"name",headerName:"Event Name",minWidth:200,flex:1},{field:"committee",headerName:"Organized By",minWidth:150,flex:1,valueGetter:e=>e.value[0].name,valueFormatter:e=>{let{value:t}=e;return t[0].name},renderCell:e=>e.row.committee[0].name},{field:"createdBy",headerName:"Created By",minWidth:150,flex:1,valueGetter:e=>e.value[0].name,valueFormatter:e=>{let{value:t}=e;return t[0].name},renderCell:e=>e.row.createdBy[0].name},{field:"startDate",headerName:"Event Date",minWidth:120,flex:.8,valueGetter:e=>e.row.startDate,valueFormatter:e=>{let{value:t}=e;return c()(new Date(t)).format("Do MMM YYYY")},renderCell:e=>c()(new Date(e.row.startDate)).format("Do MMM YYYY"),sortComparator:(e,t)=>c()(new Date(e))-c()(new Date(t))},{field:"registrations",headerName:"Registrations",type:"number",minWidth:100,flex:.3,valueGetter:e=>null===v||void 0===v?void 0:v.filter((t=>t.event[0].id===e.row._id)).length,renderCell:e=>null===v||void 0===v?void 0:v.filter((t=>t.event[0].id===e.row._id)).length},{field:"isPublished",headerName:"Status",minWidth:160,flex:.3,valueGetter:e=>e.row.status,renderCell:e=>(0,w.jsx)(o.Z,{color:"success",children:e.row.status?(0,w.jsx)(s.Z,{name:"completed",disabled:!0,variant:"contained",color:"success",sx:{width:"8.5rem","&.Mui-disabled":{backgroundColor:"#388e3c",color:"#fff"}},children:"COMPLETED"}):(0,w.jsx)(s.Z,{name:"report_pending",disabled:!0,variant:"contained",color:"error",sx:{width:"8.5rem","&.Mui-disabled":{backgroundColor:"#f44336",color:"#fff"}},children:"REPORT PENDING"})})},{field:"display",headerName:"Show/Hide",type:"actions",width:100,renderCell:e=>(0,w.jsx)(i.Z,{color:"success",onClick:()=>(async(e,t)=>{const r={id:e,isPublished:t};try{await p(r).unwrap()&&(0,m.Am)(t?"Event Unpublished from Home Page":"Event Published on Home Page",{type:t?"error":"success"})}catch(n){m.Am.error("There was some error! Please Try again.")}})(e.row._id,e.row.isPublished),checked:!!e.row.isPublished})},{field:"actions",headerName:"Actions",type:"actions",width:190,renderCell:t=>(0,w.jsx)(j,{users:v,data:e,params:t})}];return(0,w.jsxs)(o.Z,{m:h?"1rem 2.5rem":"0.8rem",position:"relative",component:u.E.div,initial:{opacity:0},animate:{opacity:1},transition:{delay:.1,ease:"easeInOut"},children:[(0,w.jsx)(D.Z,{title:"PAST EVENTS",subtitle:"List of All Past Events."}),(0,w.jsx)(C.Z,{children:(0,w.jsx)(l._$,{loading:d||!r,getRowId:e=>e._id,rows:e||[],columns:x,components:{Toolbar:E.Z},componentsProps:{toolbar:{showExport:!1,data:r}}})})]})}},57234:(e,t,r)=>{r.d(t,{D3:()=>v,DX:()=>x,N1:()=>o,Pq:()=>s,Tl:()=>c,V8:()=>p,aW:()=>l,cy:()=>u,gV:()=>m,h6:()=>h,ru:()=>a,zJ:()=>d,zu:()=>i});const n=r(21575).h.injectEndpoints({endpoints:e=>({createEvent:e.mutation({query:e=>({url:"event/createEvent",method:"POST",body:e,formData:!0}),providesTags:["Events"],invalidatesTags:["Events"]}),publishedEvents:e.query({query:()=>"events/publishedEvents",providesTags:["Events"]}),unapprovedEvents:e.query({query:()=>"events/unapprovedEvents",providesTags:["Events"]}),committeeUnapprovedEvents:e.query({query:e=>({url:"events/committeeUnapprovedEvents",method:"POST",body:e}),providesTags:["Events"]}),approvedEvents:e.query({query:()=>"events/approvedEvents",providesTags:["Events"]}),committeeApprovedEvents:e.query({query:e=>({url:"events/committeeApprovedEvents",method:"POST",body:e}),providesTags:["Events"]}),approveEvent:e.mutation({query:e=>({url:"events/approveEvent",method:"POST",body:e,formData:!0}),providesTags:["Events"],invalidatesTags:["Events"]}),getEvent:e.query({query:e=>({url:"events/getEvent",method:"POST",body:e,formData:!0}),providesTags:["Events"],invalidatesTags:["Events"]}),deleteEvent:e.mutation({query:e=>({url:"events/deleteEvent",method:"POST",body:e,formData:!0}),providesTags:["Events"],invalidatesTags:["Events"]}),togglePublish:e.mutation({query:e=>({url:"events/togglePublish",method:"POST",body:e,formData:!0}),providesTags:["Events"],invalidatesTags:["Events"]}),uploadReport:e.mutation({query:e=>({url:"event/uploadReport",method:"POST",body:e,formData:!0}),providesTags:["Events"],invalidatesTags:["Events"]}),uploadPhotos:e.mutation({query:e=>({url:"event/uploadPhotos",method:"POST",body:e,formData:!0}),providesTags:["Events"],invalidatesTags:["Events"]}),sendCertificates:e.mutation({query:e=>({url:"events/sendCertificate",method:"POST",body:e,formData:!0}),providesTags:["Events"],invalidatesTags:["Events"]})})}),{useCreateEventMutation:a,usePublishedEventsQuery:o,useUnapprovedEventsQuery:s,useCommitteeUnapprovedEventsQuery:i,useApprovedEventsQuery:l,useCommitteeApprovedEventsQuery:d,useGetEventQuery:c,useApproveEventMutation:u,useDeleteEventMutation:m,useTogglePublishMutation:v,useUploadReportMutation:p,useUploadPhotosMutation:h,useSendCertificatesMutation:x}=n},76821:(e,t,r)=>{r.d(t,{ZF:()=>s,yv:()=>o,zQ:()=>a});const n=r(21575).h.injectEndpoints({endpoints:e=>({getUsers:e.query({query:()=>"user/getUsers",providesTags:["users"]}),registerFaculty:e.mutation({query:e=>({url:"user/registerFaculty",method:"POST",body:e,formData:!0}),providesTags:["users"]}),registerStudent:e.mutation({query:e=>({url:"user/registerStudent",method:"POST",body:e,formData:!0}),providesTags:["users"]})})}),{useGetUsersQuery:a,useRegisterFacultyMutation:o,useRegisterStudentMutation:s}=n},5397:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(74223),a=r(80184);const o=(0,n.Z)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")}}]);
//# sourceMappingURL=863.653a67b3.chunk.js.map